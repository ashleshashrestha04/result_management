<style>
  .custom-navbar {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 25px rgba(0, 0, 0, 0.15);
    padding: 1rem 0;
    transition: all 0.3s ease;
  }

  .custom-navbar.scrolled {
    padding: 0.5rem 0;
    box-shadow: 0 2px 20px rgba(0, 0, 0, 0.2);
  }

  .navbar-brand {
    font-size: 1.6rem;
    font-weight: 800;
    color: white !important;
    text-decoration: none;
    display: flex;
    align-items: center;
    transition: all 0.3s ease;
  }

  .navbar-brand:hover {
    color: #f8f9fa !important;
    transform: scale(1.05);
  }

  .navbar-brand i {
    font-size: 1.8rem;
    margin-right: 0.6rem;
    background: rgba(255, 255, 255, 0.2);
    padding: 0.3rem;
    border-radius: 50%;
    transition: all 0.3s ease;
  }

  .navbar-brand:hover i {
    background: rgba(255, 255, 255, 0.3);
    transform: rotate(15deg);
  }

  .navbar-nav .nav-link {
    color: white !important;
    font-weight: 600;
    padding: 0.6rem 1.2rem !important;
    border-radius: 30px;
    margin: 0 0.3rem;
    transition: all 0.3s ease;
    position: relative;
    font-size: 1rem;
  }

  .navbar-nav .nav-link:hover {
    background: rgba(255, 255, 255, 0.2);
    color: white !important;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  }

  .navbar-nav .nav-link.active {
    background: rgba(255, 255, 255, 0.25);
    color: white !important;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
  }

  .navbar-nav .nav-link i {
    margin-right: 0.4rem;
  }

  .dropdown-menu {
    background: white;
    border: none;
    border-radius: 20px;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
    padding: 1rem 0;
    margin-top: 0.8rem;
    min-width: 250px;
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .dropdown-item {
    padding: 0.8rem 1.8rem;
    color: #2c3e50;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    font-weight: 500;
    border-radius: 0;
  }

  .dropdown-item:hover {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    transform: translateX(8px);
    border-radius: 15px;
    margin: 0 0.5rem;
  }

  .dropdown-item i {
    margin-right: 0.8rem;
    width: 18px;
    text-align: center;
    font-size: 1rem;
  }

  .dropdown-header {
    color: #667eea;
    font-weight: 700;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    padding: 0.8rem 1.8rem 0.5rem;
  }

  .dropdown-divider {
    margin: 0.8rem 1.5rem;
    border-color: #e9ecef;
    opacity: 0.3;
  }

  .navbar-toggler {
    border: 2px solid rgba(255, 255, 255, 0.3);
    padding: 0.4rem 0.7rem;
    border-radius: 10px;
    transition: all 0.3s ease;
  }

  .navbar-toggler:hover {
    border-color: rgba(255, 255, 255, 0.6);
    background: rgba(255, 255, 255, 0.1);
  }

  .navbar-toggler:focus {
    box-shadow: 0 0 0 0.2rem rgba(255, 255, 255, 0.3);
  }

  .navbar-toggler-icon {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='m4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
  }

  @media (max-width: 991px) {
    .navbar-nav {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 1rem;
      margin-top: 1rem;
    }

    .navbar-nav .nav-link {
      margin: 0.2rem 0;
    }
  }
</style>

<nav class="navbar navbar-expand-lg custom-navbar fixed-top">
  <div class="container">
    <!-- Brand/Logo -->
    <a class="navbar-brand" href="{% url 'home' %}">
      <i class="fas fa-graduation-cap"></i>MyAcademia
    </a>

    <!-- Toggle button for mobile -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar items -->
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'home' %}">
            <i class="fas fa-home me-1"></i>Home
          </a>
        </li>

        {% if user.is_authenticated %} {% if user.teacherprofile %}
        <!-- Teacher Menu -->
        <li class="nav-item">
          <a class="nav-link" href="{% url 'teacher_app:teacher_dashboard' %}">
            <i class="fas fa-tachometer-alt me-1"></i>Dashboard
          </a>
        </li>
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            id="teacherDropdown"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <i class="fas fa-chalkboard-teacher me-1"></i>{{
            user.first_name|default:user.username }}
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><h6 class="dropdown-header">Teacher Portal</h6></li>
            <li>
              <a
                class="dropdown-item"
                href="{% url 'teacher_app:teacher_dashboard' %}"
              >
                <i class="fas fa-tachometer-alt"></i>Dashboard
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="#">
                <i class="fas fa-clipboard-list"></i>Manage Results
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="#">
                <i class="fas fa-users"></i>My Students
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="#">
                <i class="fas fa-chart-bar"></i>Analytics
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="#">
                <i class="fas fa-user-edit"></i>Profile Settings
              </a>
            </li>
            <li><hr class="dropdown-divider" /></li>
            <li>
              <a
                class="dropdown-item"
                href="{% url 'teacher_app:teacher_logout' %}"
              >
                <i class="fas fa-sign-out-alt"></i>Logout
              </a>
            </li>
          </ul>
        </li>
        {% else %}
        <!-- Student Menu -->
        <li class="nav-item">
          <a class="nav-link" href="{% url 'student_dashboard' %}">
            <i class="fas fa-tachometer-alt me-1"></i>Dashboard
          </a>
        </li>
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            id="studentDropdown"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <i class="fas fa-user-graduate me-1"></i>{{
            user.first_name|default:user.username }}
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><h6 class="dropdown-header">Student Portal</h6></li>
            <li>
              <a class="dropdown-item" href="{% url 'student_dashboard' %}">
                <i class="fas fa-tachometer-alt"></i>Dashboard
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="#">
                <i class="fas fa-eye"></i>View Results
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="#">
                <i class="fas fa-download"></i>Download Transcript
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="#">
                <i class="fas fa-calendar-alt"></i>Academic Calendar
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="#">
                <i class="fas fa-user-edit"></i>Profile Settings
              </a>
            </li>
            <li><hr class="dropdown-divider" /></li>
            <li>
              <a class="dropdown-item" href="{% url 'student_logout' %}">
                <i class="fas fa-sign-out-alt"></i>Logout
              </a>
            </li>
          </ul>
        </li>
        {% endif %} {% else %}
        <!-- Login/Signup Options for non-authenticated users -->
        <li class="nav-item">
          <a class="nav-link" href="#features">
            <i class="fas fa-star me-1"></i>Features
          </a>
        </li>
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            id="authDropdown"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <i class="fas fa-user me-1"></i>Login
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><h6 class="dropdown-header">Student Portal</h6></li>
            <li>
              <a class="dropdown-item" href="{% url 'student_login' %}">
                <i class="fas fa-sign-in-alt"></i>Student Login
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'student_signup' %}">
                <i class="fas fa-user-plus"></i>Student Signup
              </a>
            </li>
            <li><hr class="dropdown-divider" /></li>
            <li><h6 class="dropdown-header">Teacher Portal</h6></li>
            <li>
              <a
                class="dropdown-item"
                href="{% url 'teacher_app:teacher_login' %}"
              >
                <i class="fas fa-sign-in-alt"></i>Teacher Login
              </a>
            </li>
            <li>
              <a
                class="dropdown-item"
                href="{% url 'teacher_app:teacher_signup' %}"
              >
                <i class="fas fa-user-plus"></i>Teacher Signup
              </a>
            </li>
          </ul>
        </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

<script>
  // Navbar scroll effect
  document.addEventListener("DOMContentLoaded", function () {
    const navbar = document.querySelector(".custom-navbar");

    // Add scroll effect to navbar
    window.addEventListener("scroll", function () {
      if (window.scrollY > 50) {
        navbar.classList.add("scrolled");
      } else {
        navbar.classList.remove("scrolled");
      }
    });

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute("href"));
        if (target) {
          target.scrollIntoView({
            behavior: "smooth",
            block: "start",
          });
        }
      });
    });

    // Highlight active nav item based on current page
    const currentLocation = location.pathname;
    const navLinks = document.querySelectorAll(".navbar-nav .nav-link");

    navLinks.forEach((link) => {
      if (link.getAttribute("href") === currentLocation) {
        link.classList.add("active");
      }
    });

    // Add hover effect to dropdown items
    const dropdownItems = document.querySelectorAll(".dropdown-item");
    dropdownItems.forEach((item) => {
      item.addEventListener("mouseenter", function () {
        this.style.transform = "translateX(8px)";
      });

      item.addEventListener("mouseleave", function () {
        this.style.transform = "translateX(0)";
      });
    });
  });
</script>
