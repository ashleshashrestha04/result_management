{% extends 'base/base.html' %} {% block title %}Login - MyAcademia{% endblock %}
{% block extra_css %}
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  .login-container {
    min-height: calc(100vh - 80px);
    position: relative;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
  }

  .login-content {
    display: flex;
    width: 100%;
    max-width: 1200px;
    min-height: 600px;
    background: white;
    border-radius: 24px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
    overflow: hidden;
  }

  .left-section {
    flex: 1;
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    padding: 3rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
  }

  .image-container {
    text-align: center;
    width: 100%;
    max-width: 400px;
  }

  .illustration {
    margin-bottom: 2rem;
  }

  .main-illustration {
    width: 100%;
    height: auto;
    max-width: 350px;
    filter: drop-shadow(0 10px 30px rgba(102, 126, 234, 0.2));
  }

  .welcome-content h2 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 1rem;
    line-height: 1.2;
  }

  .welcome-content p {
    font-size: 1rem;
    color: #6b7280;
    line-height: 1.6;
    margin-bottom: 2rem;
  }

  .features {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: flex-start;
  }

  .feature-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.9rem;
    color: #4b5563;
  }

  .feature-item i {
    color: #667eea;
    width: 20px;
    text-align: center;
  }

  .right-section {
    flex: 1;
    padding: 3rem 2.5rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .form-container {
    width: 100%;
    max-width: 400px;
    margin: 0 auto;
  }

  .form-header {
    margin-bottom: 2rem;
    text-align: center;
  }

  .welcome-title {
    font-size: 1.875rem;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 0.5rem;
  }

  .welcome-subtitle {
    color: #6b7280;
    font-size: 0.95rem;
  }

  .login-form {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .user-type-selector {
    margin-bottom: 0.5rem;
  }

  .user-type-buttons {
    display: flex;
    gap: 0.5rem;
    background: #f8fafc;
    padding: 0.25rem;
    border-radius: 10px;
    border: 1px solid #e2e8f0;
  }

  .user-type-btn {
    flex: 1;
    background: transparent;
    border: none;
    color: #64748b;
    padding: 0.75rem 0.875rem;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-weight: 500;
    text-align: center;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
  }

  .user-type-btn:hover {
    color: #475569;
    background: rgba(99, 102, 241, 0.05);
  }

  .user-type-btn.active {
    background: white;
    color: #6366f1;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
    font-weight: 600;
  }

  .user-type-btn i {
    font-size: 0.85rem;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .form-label {
    font-weight: 500;
    color: #374151;
    font-size: 0.9rem;
    margin: 0;
  }

  .form-control {
    padding: 0.875rem 1rem;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    font-size: 0.95rem;
    transition: all 0.2s ease;
    background-color: #f9fafb;
  }

  .form-control:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    background-color: white;
  }

  .password-wrapper {
    position: relative;
  }

  .password-toggle {
    position: absolute;
    right: 1rem;
    top: 50%;
    transform: translateY(-50%);
    color: #9ca3af;
    cursor: pointer;
    transition: color 0.2s ease;
  }

  .password-toggle:hover {
    color: #667eea;
  }

  .form-options {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: -0.5rem 0;
  }

  .remember-me {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .form-check-input {
    width: 16px;
    height: 16px;
    accent-color: #667eea;
  }

  .form-check-label {
    font-size: 0.9rem;
    color: #6b7280;
    margin: 0;
  }

  .forgot-password {
    font-size: 0.9rem;
    color: #667eea;
    text-decoration: none;
    font-weight: 500;
  }

  .forgot-password:hover {
    color: #5a67d8;
    text-decoration: underline;
  }

  .btn-signin {
    background: #667eea;
    color: white;
    border: none;
    padding: 0.875rem;
    border-radius: 12px;
    font-weight: 600;
    font-size: 0.95rem;
    transition: all 0.2s ease;
    cursor: pointer;
  }

  .btn-signin:hover {
    background: #5a67d8;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
  }

  .signup-link {
    text-align: center;
    font-size: 0.9rem;
    color: #6b7280;
    margin-top: 0.5rem;
  }

  .signup-link a {
    color: #667eea;
    text-decoration: none;
    font-weight: 500;
  }

  .signup-link a:hover {
    text-decoration: underline;
  }

  .alert {
    border-radius: 12px;
    margin-bottom: 1rem;
  }

  /* Responsive Design */
  @media (max-width: 968px) {
    .login-content {
      flex-direction: column;
      max-width: 500px;
    }

    .left-section {
      padding: 2rem;
      min-height: auto;
    }

    .welcome-content h2 {
      font-size: 1.5rem;
    }

    .features {
      flex-direction: row;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1.5rem;
    }

    .right-section {
      padding: 2rem 1.5rem;
    }

    .main-illustration {
      max-width: 280px;
    }
  }

  @media (max-width: 768px) {
    .login-container {
      padding: 1rem;
    }

    .left-section {
      padding: 1.5rem;
    }

    .right-section {
      padding: 1.5rem 1rem;
    }

    .welcome-title {
      font-size: 1.5rem;
    }

    .welcome-content h2 {
      font-size: 1.25rem;
    }

    .welcome-content p {
      font-size: 0.9rem;
    }

    .features {
      gap: 1rem;
    }

    .feature-item {
      font-size: 0.85rem;
    }

    .user-type-buttons {
      flex-direction: column;
      gap: 0.75rem;
      background: transparent;
      padding: 0;
      border: none;
    }

    .user-type-btn {
      border: 1.5px solid #d1d5db;
      border-radius: 8px;
      background: white;
      padding: 0.875rem;
    }

    .user-type-btn.active {
      background: #6366f1;
      color: white;
      border-color: #6366f1;
    }

    .user-type-btn:hover {
      background: #f8fafc;
      border-color: #6366f1;
    }

    .user-type-btn.active:hover {
      background: #5856eb;
    }
  }
</style>
{% endblock %} {% block full_content %}
<div class="login-container">
  <!-- Main Content -->
  <div class="login-content">
    <!-- Left Side - Image Section -->
    <div class="left-section">
      <div class="image-container">
        <div class="illustration">
          <svg viewBox="0 0 400 300" class="main-illustration">
            <!-- Student at desk illustration -->
            <defs>
              <linearGradient
                id="bg-gradient"
                x1="0%"
                y1="0%"
                x2="100%"
                y2="100%"
              >
                <stop
                  offset="0%"
                  style="stop-color: #667eea; stop-opacity: 1"
                />
                <stop
                  offset="100%"
                  style="stop-color: #764ba2; stop-opacity: 1"
                />
              </linearGradient>
            </defs>

            <!-- Background shapes -->
            <circle cx="350" cy="50" r="30" fill="#f0f4f8" opacity="0.6" />
            <circle cx="50" cy="250" r="20" fill="#e2e8f0" opacity="0.8" />
            <circle cx="370" cy="200" r="15" fill="#f7fafc" opacity="0.7" />

            <!-- Desk -->
            <rect
              x="120"
              y="180"
              width="160"
              height="80"
              rx="8"
              fill="#4a90e2"
            />
            <rect
              x="120"
              y="175"
              width="160"
              height="10"
              rx="5"
              fill="#357abd"
            />

            <!-- Laptop -->
            <rect
              x="140"
              y="160"
              width="80"
              height="50"
              rx="4"
              fill="#2d3748"
            />
            <rect
              x="145"
              y="165"
              width="70"
              height="40"
              rx="2"
              fill="#4299e1"
            />
            <circle cx="180" cy="185" r="8" fill="#667eea" />
            <rect x="175" y="182" width="10" height="6" rx="1" fill="white" />

            <!-- Person -->
            <circle cx="180" cy="140" r="20" fill="#fdb5a6" />
            <rect
              x="165"
              y="155"
              width="30"
              height="35"
              rx="8"
              fill="#667eea"
            />
            <rect
              x="155"
              y="190"
              width="15"
              height="30"
              rx="4"
              fill="#2d3748"
            />
            <rect
              x="205"
              y="190"
              width="15"
              height="30"
              rx="4"
              fill="#2d3748"
            />
            <rect
              x="150"
              y="140"
              width="20"
              height="25"
              rx="6"
              fill="#fdb5a6"
            />
            <rect
              x="205"
              y="140"
              width="20"
              height="25"
              rx="6"
              fill="#fdb5a6"
            />

            <!-- Books -->
            <rect x="250" y="170" width="8" height="25" fill="#f56565" />
            <rect x="260" y="168" width="8" height="27" fill="#48bb78" />
            <rect x="270" y="172" width="8" height="23" fill="#ed8936" />

            <!-- Clock -->
            <circle
              cx="80"
              cy="80"
              r="25"
              fill="white"
              stroke="#e2e8f0"
              stroke-width="3"
            />
            <circle cx="80" cy="80" r="3" fill="#4a90e2" />
            <line
              x1="80"
              y1="80"
              x2="80"
              y2="65"
              stroke="#4a90e2"
              stroke-width="2"
            />
            <line
              x1="80"
              y1="80"
              x2="90"
              y2="80"
              stroke="#4a90e2"
              stroke-width="2"
            />

            <!-- Floating elements -->
            <circle cx="320" cy="120" r="8" fill="#667eea" opacity="0.3" />
            <rect
              x="60"
              y="200"
              width="12"
              height="12"
              rx="2"
              fill="#48bb78"
              opacity="0.4"
            />
          </svg>
        </div>

        <div class="welcome-content">
          <h2>MyAcademia</h2>
          <p>
            Access your academic records, view grades, and track your
            educational progress all in one place.
          </p>

          <div class="features">
            <div class="feature-item">
              <i class="fas fa-chart-line"></i>
              <span>Track Academic Progress</span>
            </div>
            <div class="feature-item">
              <i class="fas fa-medal"></i>
              <span>View Results & Grades</span>
            </div>
            <div class="feature-item">
              <i class="fas fa-calendar-alt"></i>
              <span>Semester Management</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Side - Login Form -->
    <div class="right-section">
      <div class="form-container">
        <!-- Welcome Title -->
        <div class="form-header">
          <h2 class="welcome-title">Welcome Back!</h2>
          <p class="welcome-subtitle">
            We missed you! Please enter your details.
          </p>
        </div>

        <!-- Display Messages -->
        {% if messages %} {% for message in messages %}
        <div
          class="alert alert-{{ message.tags }} alert-dismissible fade show"
          role="alert"
        >
          {{ message }}
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="alert"
          ></button>
        </div>
        {% endfor %} {% endif %}

        <!-- Login Form -->
        <form method="post" class="login-form">
          {% csrf_token %}

          <!-- User Type Selection -->
          <div class="user-type-selector">
            <div class="user-type-buttons">
              <button
                type="button"
                class="user-type-btn active"
                data-type="student"
              >
                <i class="fas fa-user-graduate"></i> Student
              </button>
              <button type="button" class="user-type-btn" data-type="teacher">
                <i class="fas fa-chalkboard-teacher"></i> Teacher
              </button>
            </div>
            <input
              type="hidden"
              name="user_type"
              id="user_type"
              value="student"
            />
          </div>

          <!-- Email Field -->
          <div class="form-group">
            <label for="username" class="form-label">Email</label>
            <input
              type="text"
              class="form-control"
              id="username"
              name="username"
              placeholder="Enter your Email"
              required
            />
          </div>

          <!-- Password Field -->
          <div class="form-group">
            <label for="password" class="form-label">Password</label>
            <div class="password-wrapper">
              <input
                type="password"
                class="form-control"
                id="password"
                name="password"
                placeholder="••••••••"
                required
              />
              <i
                class="fas fa-eye password-toggle"
                onclick="togglePassword()"
              ></i>
            </div>
          </div>

          <!-- Remember me and Forgot password -->
          <div class="form-options">
            <div class="remember-me">
              <input type="checkbox" id="remember" class="form-check-input" />
              <label for="remember" class="form-check-label">Remember me</label>
            </div>
            <a href="#" class="forgot-password">Forgot password?</a>
          </div>

          <!-- Login Button -->
          <button type="submit" class="btn-signin">Login</button>

          <!-- Sign Up Link -->
          <div class="signup-link">
            Don't have an account?
            <a href="{% url 'student_signup' %}" class="text-primary"
              >Sign up</a
            >
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
  // User type selection functionality
  document.addEventListener("DOMContentLoaded", function () {
    const userTypeBtns = document.querySelectorAll(".user-type-btn");
    const userTypeInput = document.getElementById("user_type");

    userTypeBtns.forEach((btn) => {
      btn.addEventListener("click", function () {
        // Remove active class from all buttons
        userTypeBtns.forEach((b) => b.classList.remove("active"));

        // Add active class to clicked button
        this.classList.add("active");

        // Update hidden input value
        const selectedType = this.dataset.type;
        userTypeInput.value = selectedType;
      });
    });
  });

  // Password toggle functionality
  function togglePassword() {
    const passwordField = document.getElementById("password");
    const toggleIcon = document.querySelector(".password-toggle");

    if (passwordField.type === "password") {
      passwordField.type = "text";
      toggleIcon.classList.remove("fa-eye");
      toggleIcon.classList.add("fa-eye-slash");
    } else {
      passwordField.type = "password";
      toggleIcon.classList.remove("fa-eye-slash");
      toggleIcon.classList.add("fa-eye");
    }
  }
</script>
{% endblock %}
